<link rel="import" href="../../polymer/polymer-element.html" />

<link rel="import" href="./../themeComponent/index.html" />

<dom-module id="hakuneko-input">
  <template>
    <style include="theme"></style>
    <style>
      @import url("./style.css");
    </style>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.disabled) ]]"
      restamp="false"
    >
      <div class="stretch">
        <input
          type="text"
          value="[[ item.value ]]"
          title$="[[ item.value ]]"
          disabled
        />
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.text) ]]"
      restamp="false"
    >
      <div class="stretch">
        <input
          type="text"
          value="{{ item.value::change }}"
          list$="DataList: [[ item.label ]]"
        />
        <datalist id$="DataList: [[ item.label ]]">
          <template is="dom-repeat" items="[[ item.options ]]" as="option">
            <option value="[[ option.value ]]">[[ option.name ]]</option>
          </template>
        </datalist>
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.password) ]]"
      restamp="false"
    >
      <div class="stretch">
        <input
          type="password"
          value="{{ item.value::change }}"
          title$="[[ item.value ]]"
        />
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.numeric) ]]"
      restamp="false"
    >
      <div class="stretch">
        <input
          type="number"
          min="[[ item.min ]]"
          max="[[ item.max ]]"
          value="{{ item.value::change }}"
        />
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.select) ]]"
      restamp="false"
    >
      <div class="stretch">
        <div class="select__wrapper">
          <select value="{{ item.value::change }}">
            <template is="dom-repeat" items="[[ item.options ]]" as="option">
              <option
                value="[[ option.value ]]"
                selected$="[[ isSelected(item.value, option.value) ]]"
              >
                [[ option.name ]]
              </option>
            </template>
          </select>
        </div>
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.checkbox) ]]"
      restamp="false"
    >
      <div class="stretch">
        <div class="checkbox__wrapper">
          <input type="checkbox" checked="{{ item.value::change }}" />
        </div>
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.file) ]]"
      restamp="false"
    >
      <div class="stretch">
        <input
          type="text"
          value="{{ item.value }}"
          disabled
          title$="[[ item.value ]]"
        />
      </div>
      <div class="shrink">
        <i class="mdi mdi-18px mdi-file" on-click="clickChooseFile"></i>
      </div>
    </template>
    <template
      is="dom-if"
      if="[[ isInputType(item.input, inputTypes.directory) ]]"
      restamp="false"
    >
      <div class="stretch">
        <input
          type="text"
          value="{{ item.value }}"
          disabled
          title$="[[ item.value ]]"
        />
      </div>
      <i
        class="mdi mdi-18px mdi-folder-open shrink"
        title$="[[i18n('inputs.browse')]] &hellip;"
        on-click="clickChooseDirectory"
      ></i>
    </template>
  </template>

  <script src="./script.js"></script>
</dom-module>
